<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
		  integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<title>Product info</title>

</head>

<body id="top">
<th:block th:replace="fragments/header :: nav-header"></th:block>

<!--Contents-->
<div class="container">
	<div class="row">
		<div class="col-lg-12">
			<nav class="navbar navbar-expand-lg">
				<div class="collapse navbar-collapse" id="contents-navbar">
					<ul class="nav mr-auto">
						<p class="navbar-brand">상품 조회</p>
						<li class="nav-item">
							<select class="custom-select" name="pageSize">
								<option value="request_code">10개씩</option>
								<option value="product_code">20개씩</option>
								<option value="request_date">30개씩</option>
							</select>
						</li>
					</ul>
					<form class="form-inline my-2 my-lg-0" action="/prod/search">
						<select class="custom-select" id="inputGroupSelect01" name="where">
							<option value="productCode">상품코드</option>
							<option value="date">날짜검색</option>
						</select>
						<input id="productCodeInput" class="form-control mr-sm-2" type="search" name="query" placeholder="Search"
									 aria-label="Search">
						<input id="dateInput" type="date" name="query">
						<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
					</form>
				</div>
			</nav>
		</div>
		<div class="col-lg-12">
			<!-- Button trigger modal -->
			<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
				Product Detail
			</button>

			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLabel">Product Detail</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<table class="table table">
								<thead class="thead-dark">
								<tr>
									<th scope="col">발주코드</th>
									<th scope="col">상품코드</th>
									<th scope="col">컬러</th>
									<th scope="col">gender</th>
									<th scope="col">total</th>
									<th scope="col">s</th>
									<th scope="col">m</th>
									<th scope="col">l</th>
									<th scope="col">xl</th>
									<th scope="col">free</th>
									<th scope="col">total</th>
									<th scope="col">제조일</th>
								</tr>
								</thead>
								<tbody>
								<tr  th:each="map : ${productDetail}">
									<td th:text="${map.product_code}"></td>
									<td th:text="${map.color_name}"></td>
									<td th:text="${map.gender}"></td>
									<td th:text="${map.total}"></td>
									<td th:text="${map.s}"></td>
									<td th:text="${map.m}"></td>
									<td th:text="${map.l}"></td>
									<td th:text="${map.xl}"></td>
									<td th:text="${map.f}"></td>
									<td th:text="${map.total}"></td>
									<td th:text="${map.manufacture_day}"></td>
								</tr>
								</tbody>
							</table>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
							<button type="button" class="btn btn-primary">수정하기</button>
						</div>
					</div>
				</div>
			</div>
			<a class="btn btn-primary" href="/prod/add" role="button">상품 등록</a>
			<table class="table table-hover">
				<thead class="thead-dark">
				<tr>
					<th scope="col">상품코드</th>
					<th scope="col">제조공장</th>
					<th scope="col">단가</th>
					<th scope="col">마지막수정일</th>
					<th scope="col">제조코드</th>
					<th scope="col">상품상태</th>
					<th scope="col">수정</th>
				</tr>
				</thead>
				<tbody>
				<tr th:each="title : ${productTitles}">
					<td th:text="${title.getProduct_code()}">code</td>
					<td th:text="${title.getMake_factory()}">factory</td>
					<td th:text="${title.getUnit_price()}">price</td>
					<td th:text="${title.getFinal_update()}">update</td>
					<td th:text="${title.getMake_code()}">make_code</td>
					<td>
						<select class="custom-select" name="status">
							<option value="판매중" th:selected="${title.getProduct_status() == '판매중'}">판매중</option>
							<option value="품절" th:selected="${title.getProduct_status()} == '품절'">품절</option>
							<option value="판매중단" th:selected="${title.getProduct_status()} == '판매중단'">판매중단</option>
						</select>
					</td>
					<td><a class="btn btn-primary" th:href="@{/prod/modify(productCode=${title.getProduct_code()})}" role="button">수정하기</a></td>
				</tr>
				</tbody>
			</table>
			<nav aria-label="Page navigation example ml-auto">
				<ul class="pagination">
					<li class="page-item">
						<a class="page-link" href="#" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
						</a>
					</li>
					<li class="page-item"><a class="page-link" href="#">1</a></li>
					<li class="page-item"><a class="page-link" href="#">2</a></li>
					<li class="page-item"><a class="page-link" href="#">3</a></li>
					<li class="page-item"><a class="page-link" href="#">4</a></li>
					<li class="page-item"><a class="page-link" href="#">5</a></li>
					<li class="page-item">
						<a class="page-link" href="#" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
						</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>

<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
<script src="https://code.jquery.com/jquery-3.5.1.js"
		integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
		crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
		crossorigin="anonymous"></script>

<script>
	$('#dateInput').hide()
	$('#dateInput').prop('disabled', true);

	$('select').on('change', function() {
		if (this.value === 'date') {
			$('#dateInput').show();
			$('#productCodeInput').hide();

			$("#dateInput").prop('disabled', false);
			$("#productCodeInput").prop('disabled', true);

		} else if (this.value === 'productCode') {
			$('#dateInput').hide();
			$('#productCodeInput').show();

			$("#dateInput").prop('disabled', true);
			$("#productCodeInput").prop('disabled', false);
		}
	});
</script>
<!--ajax파일 참조하는 문장-->
	<script th:src="@{/resources/js/prod_js/main.js}"></script>


<!-- Option 2: jQuery, Popper.js, and Bootstrap JS
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
-->
</body>
</html>